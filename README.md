## SDMC 프로젝트의 필요 기능 및 API를 정의한 문서

| 도메인                  | 내용                         |
| ----------------------- | ---------------------------- |
| http://sdmc.co.kr/ | 메인 페이지 |

# 1. 공통 항목

## 1-1 헤더

모든 페이지에서 보이는 네비게이션 바 역할을한다.

### API

| 메소드 |주소| 전달 내용 | 동작                      | 비고                            |
| ------ |--| --------- | ------------------------- | ------------------------------- |
| GET    | /games/1 |X         | 리다이렉트 | 게임 클릭 동작 |
| GET | /books/1 |X | 리다이렉트 | 도서 클릭 동작 |
| GET | /movie/1 |X | 리다이렉트 | 영상 클릭 동작 |
| GET | /login |X | 리다이렉트 | 로그인 클릭 동작 |
| GET | / |X | 리다이렉트 | 로고 클릭 |


## 1-2 메인 홈

접속 시 가장 먼저 보이는 화면이다.

header, 배너 이미지, footer로 구성된다.

다른 페이지로 이동하더라도 header와 footer는 그대로 유지한다.



로그인을 하지 않은 상태로 메뉴 클릭 시 로그인 창으로 이동한다.



## 1-3 로그인

메인홈에서 유일하게 접근 가능한 페이지이다.

| 도메인                  | 내용                         |
| ----------------------- | ---------------------------- |
| http://sdmc.co.kr/login | 로그인을 진행할 수 있는 화면 |

### API

| 메소드 | 주소 | 전달 내용 | 동작 | 비고 |
| ------ | ---- | --------- | ---- | ---- |
| POST  | /login | 아이디, 패스워드 | 조회하여 결과를 리턴한다. | 패스워드는 암호화하여 전송한다. |
| GET | /sign-up | X | 리다이렉트 | 회원 가입 클릭 동작 |
| GET | / | X | 리다이렉트 | 로그인 성공 |

### 입출력 내용

| 입/출력 | 항목          | 비고                      |
| ------- | ------------- | ------------------------- |
| 입력    | 아이디        |                           |
| 입력    | 패스워드      | * 표시                    |
| 입력    | 로그인 버튼   | POST /login 동작          |
| 입력    | 회원가입 버튼 | GET /sign-up 동작         |
| 출력    | 로그인 실패   | 아이디 패스워드 입력 오류 |



## 1-4 회원가입


| 도메인                    | 내용                           |
| ------------------------- | ------------------------------ |
| http://sdmc.co.kr/sign-up | 화원가입을 진행할 수 있는 화면 |

### API


| 메소드 | 주소        | 전달 내용                        | 동작                            | 비고                        |
| ------ | ----------- | -------------------------------- | ------------------------------- | --------------------------- |
| POST   | /sign-up    | 아이디, 패스워드, 이메일, 닉네임 | 회원을 데이터베이스에 등록한다. | 패스워드는 암호화 해서 전송 |
| Ajax   | /sign-up    | 아이디                           | 아이디 중복 검사, 1 또는 0 리턴 |                             |
| Ajax   | /sign-up    | 이메일                           | 이메일 중복 검사, 1 또는 0 리턴 |                             |
| Ajax   | /sign-up    | 닉네임                           | 닉네임 중복검사, 1 또는 0 리턴  |                             |
| GET    | /auth-email | 이메일 확인 페이지               | 리다이렉트                      |                             |

### 입출력 내용

| 입/출력 | 항목          | 비고                      |
| ------- | ------------- | ------------------------- |
| 입력 | 아이디 | 중복검사 필수 |
| 입력 | 패스워드 | * 표시 |
| 입력 | 패스워드 확인 | * 표시 |
| 입력 | 이메일 | 중복검사 필수 |
| 입력 | 닉네임 | 중복검사 필수 |
| 출력 | 아이디 중복 여부 |  |
| 출력 | 비밀번호 일치 여부 |  |
| 출력 | 이메일 중복 여부 |  |
| 출력 | 닉네임 중복 여부 |  |
| 입력 | 회원가입 버튼 | 유저 정보 저장 후 메인으로 이동 |
| 입력 | 취소 버튼 | 메인으로 이동 |

##  1-5 메일 인증

| 도메인                       | 내용             |
| ---------------------------- | ---------------- |
| http://sdmc.co.kr/auth-email | 이메일 인증 화면 |

### API

| 메소드 | 주소              | 전달 내용 | 동작                            | 비고 |
| ------ | ----------------- | --------- | ------------------------------- | ---- |
| GET    | /                 | X         | 완료 후 메인으로 이동           |      |
### 출력 내용

| 입/출력 | 항목     | 비고                              |
| ------- | -------- | --------------------------------- |
| 입력    | 인증코드 | DB에서 값 비교, 3분 지날경우 만료 |
| 입력    | 재전송   | 메일로 인증코드 재발송            |

## 1-6 마이페이지
| 도메인                   | 내용       |
| ------------------------ | ---------- |
| http://sdmc.co.kr/mypage | 마이페이지 |

### API

| 메소드 | 주소              | 전달 내용 | 동작                            | 비고 |
| ------ | ----------------- | --------- | ------------------------------- | ---- |
| GET    | /                 | X         | 완료 후 메인으로 이동           |      |
### 출력 내용

| 입/출력 | 항목               | 비고                  |
| ------- | ------------------ | --------------------- |
| 입력    | 패스워드           |                       |
| 입력    | 패스워드 확인      |                       |
| 입력    | 비밀번호 수정 버튼 | 수정 후 메인으로 이동 |

- 유저 정보는 세션에서 받아온다.

# 2. 게임 관리

## 2-1 게임 메인

| 도메인                          | 내용                        |
| ------------------------------- | --------------------------- |
| http://sdmc.co.kr/games/{index} | 게임 목록을 볼 수 있는 화면 |

### API

| 메소드 | 주소 | 전달 내용 | 동작 | 비고 |
| ------ | ---- | --------- | ---- | ---- |
| GET | /games/{index} | 페이지 수 | 조회하여 결과를 리턴한다. |  |
| GET | /games/titles/{id} | 게임 ID | 게임 상세 페이지로 리다이렉트 | |
| GET | /games/upload | X | 게임 업로드 페이지로 리다이렉트 | |

### 입출력 내용

| 입/출력 | 항목        | 비고                                            |
| ------- | ----------- | ----------------------------------------------- |
| 출력    | 게임 썸네일 |                                                 |
| 출력    | 게임명      |                                                 |
| 출력    | 회사명      |                                                 |
| 출력    | 추천 수     |                                                 |
| 입력    | 검색        | 제목, 태그, 회사명, 발매일, 시리즈, 진행도 검색 |



## 2-2 게임 추가

| 도메인                         | 내용                        |
| ------------------------------ | --------------------------- |
| http://sdmc.co.kr/games/upload | 게임 을 추가할 수 있는 화면 |

### API

| 메소드 | 주소 | 전달 내용 | 동작 | 비고 |
| ------ | ---- | --------- | ---- | ---- |
| GET | /games/titles/{id} | 게임 ID | 조회하여 결과를 리턴한다. |  |
| POST | /games/upload | 게임명(원어, 번역), 발매일, 태그, 사진, 줄거리, 후킹코드, 비고, 제작사, 시리즈 | 데이터베이스에 게임 정보 업로드 | |

### 입출력 내용

| 입/출력 | 항목             | 비고                                                  |
| ------- | ---------------- | ----------------------------------------------------- |
| 입력    | 게임 사진        |                                                       |
| 입력    | 발매일           |                                                       |
| 입력    | 제작사           |                                                       |
| 입력    | 시리즈           |                                                       |
| 입력    | 게임명 (원어)    |                                                       |
| 입력    | 게임명 (번역)    |                                                       |
| 입력    | 줄거리           |                                                       |
| 입력    | 장르(태그)       |                                                       |
| 입력    | 후킹 코드        |                                                       |
| 입력    | 비고             |                                                       |
| 출력    | 중복 게임 표시   | 제작사와 원어 또는 번역이 같은 경우 표시              |
| 입력    | 등록 버튼        | DB에 값 입력 후 해당 게임의 자세히 보기 화면으로 이동 |
| 입력    | 제작사 추가 버튼 | 리프레시는 React 기능으로 이용                        |
| 입력    | 태그 추가 버튼   | 리프레시는 React 기능으로 이용                        |



## 2-3 자세히 보기
| 도메인                              | 내용                                     |
| ----------------------------------- | ---------------------------------------- |
| http://sdmc.co.kr/games/titles/{id} | 게임의 자세한 정보를 확인할 수 있는 화면 |

### API

| 메소드 | 주소 | 전달 내용 | 동작 | 비고 |
| ------ | ---- | --------- | ---- | ---- |
| GET | /games/modify/{id} | 게임 ID | 해당 게임의 수정 화면으로 이동 |  |
| GET | /games/characters/upload/{id} | X         | 캐릭터 추가 화면으로 이동 | |
| GET | /games/characters/strategy/{id} | 캐릭터 ID | 캐릭터 공략 화면 | |
| GET | /games/characters/modify/{gid} | 캐릭터 ID | 캐릭터 수정 화면으로 이동 ||
| DELETE | /games/{id} | 게임 ID | 게임 삭제 ||
| DELETE | /games/characters/{id} | 캐릭터 ID | 캐릭터 삭제 ||
### 입출력 내용

| 입/출력 | 항목             | 비고                             |
| ------- | ---------------- | -------------------------------- |
| 출력    | 게임 사진        |                                  |
| 출력    | 발매일           |                                  |
| 출력    | 제작사           |                                  |
| 출력    | 시리즈           |                                  |
| 출력    | 게임명 (원어)    |                                  |
| 출력    | 게임명 (번역)    |                                  |
| 출력    | 줄거리           |                                  |
| 출력    | 장르(태그)       |                                  |
| 출력    | 후킹 코드        |                                  |
| 출력    | 비고             |                                  |
| 출력    | 캐릭터 썸네일    |                                  |
| 출력    | 캐릭터 이름      |                                  |
| 출력    | 공략 버튼        | + 버튼 눌러서 아래쪽에 공략 표시 |
| 출력    | 현재 진행도      |                                  |
| 입력    | 캐릭터 진행도    | 미진행, 진행중, 완료             |
| 입력    | 캐릭터 추가      | 캐릭터 추가 화면으로 이동        |
| 입력    | 캐릭터 수정      | 캐릭터 수정 화면으로 이동        |
| 입력    | 추천 버튼        | 토글로 동작                      |
| 입력    | 게임 삭제 버튼   | 메시지로 여부 확인 후 삭제       |
| 입력    | 캐릭터 삭제 버튼 | 메시지로 여부 확인 후 삭제       |



구현 예정 기능

댓글 기능 (감상평)

- 유저명
- 내용 (100자 이내 간결한 내용)

리플 기능은 없이 구현



## 2-4 게임 수정

| 도메인                                     | 내용                            |
| ------------------------------------------ | ------------------------------- |
| http://sdmc.co.kr/games/titles/modify/{id} | 게임 정보를 수정할 수 있는 화면 |

### API

| 메소드 | 주소 | 전달 내용 | 동작 | 비고 |
| ------ | ---- | --------- | ---- | ---- |
| POST | /games/modify/{id} | 게임 ID, 게임 사진, 발매일, 제작사, 게임명(원어, 번역), 줄거리, 장르, 후킹코드, 비고, 시리즈 | DB에 게임 정보 수정 |  |
| GET | /games/{id} | 게임 ID | 게임 디테일 화면으로 이동 | |

### 입출력 내용

| 입/출력 | 항목          | 비고                                             |
| ------- | ------------- | ------------------------------------------------ |
| 입/출력 | 게임 사진     |                                                  |
| 입/출력 | 발매일        |                                                  |
| 입/출력 | 제작사        |                                                  |
| 입/출력 | 시리즈        |                                                  |
| 입/출력 | 게임명 (원어) |                                                  |
| 입/출력 | 게임명 (번역) |                                                  |
| 입/출력 | 줄거리        |                                                  |
| 입/출력 | 장르(태그)    |                                                  |
| 입/출력 | 후킹 코드     |                                                  |
| 입/출력 | 비고          |                                                  |
| 입력    | 수정 버튼     | 데이터 베이스 값 수정 후 상세 정보 화면으로 이동 |

## 2-5 캐릭터 추가

| 도메인                                            | 내용                            |
| ------------------------------------------------- | ------------------------------- |
| http://sdmc.co.kr/games/character/upload/gid={id} | 캐릭터 정보를 추가할 수 있는 창 |

### API

| 메소드 | 주소 | 전달 내용 | 동작 | 비고 |
| ------ | ---- | --------- | ---- | ---- |
| POST | games/character/upload/gid={id} | 게임 ID  | DB에 캐릭터 추가 |  |
| GET | /games/{id} | 게임 ID | 게임 디테일 화면으로 이동 | |

### 입출력 내용

| 입/출력 | 항목          | 비고                                               |
| ------- | ------------- | -------------------------------------------------- |
| 입력    | 캐릭터 썸네일 |                                                    |
| 입력    | 캐릭터 이름   |                                                    |
| 입력    | 공략          |                                                    |
| 입력    | 캐릭터 등록   | 캐릭터 정보 등록 후 게임 자세히 보기 화면으로 이동 |

## 2-6 캐릭터 수정

| 도메인                                  | 내용                            |
| --------------------------------------- | ------------------------------- |
| http://sdmc.co.kr/games/characters/{id} | 캐릭터 정보를 추가할 수 있는 창 |

### API

| 메소드 | 주소 | 전달 내용 | 동작 | 비고 |
| ------ | ---- | --------- | ---- | ---- |
| POST | games/characters/{id} | 캐릭터 ID | DB에 값 등록 |  |
| GET | /games/{id} | 게임 ID | 게임 디테일 화면으로 이동 | |

### 입출력 내용

| 입/출력 | 항목          | 비고                                               |
| ------- | ------------- | -------------------------------------------------- |
| 입력    | 캐릭터 썸네일 |                                                    |
| 입력    | 캐릭터 이름   |                                                    |
| 입력    | 공략          |                                                    |
| 입력    | 캐릭터 등록   | 캐릭터 정보 수정 후 게임 자세히 보기 화면으로 이동 |

## 2-7 내가 플레이한 게임
| 도메인                             | 내용                                |
| ---------------------------------- | ----------------------------------- |
| http://sdmc.co.kr/games/my/{index} | 내가 플레이한, 플레이중인 게임 확인 |

### API

| 메소드 | 주소                        | 전달 내용         | 동작                 | 비고 |
| ------ | --------------------------- | ----------------- | -------------------- | ---- |
| GET    | /games/my/{index}&{progrss} | 페이지 수, 진행도 | 페이지네이션 및 필터 |      |

### 출력 내용

| 입/출력 | 항목        | 비고   |
| ------- | ----------- | ------ |
| 출력    | 게임 썸네일 |        |
| 출력    | 게임명      |        |
| 출력    | 회사명      |        |
| 출력    | 추천수      |        |
| 입력    | 검색        | 진행도 |

- 유저 정보는 세션에서 받아온다.

# 3. 도서

# 4. 영상

# 5. DB 구조

## 5-1 유저

- 아이디
- 패스워드
- 이메일
- 닉네임
- 가입일자
- 인증여부
- 인증코드
- 인증코드 발급 시간

## 5-2 게임

- 게임 이미지
- 발매일
- 게임명 (원어)
- 게임명 (한글)
- 시리즈 (시리즈 테이블에서 참조)
- 회사명 (회사 테이블에서 참조)
- 추천 수 (추천 테이블에서 참조)
- 태그(장르) (게임-장르 테이블에서 참조)
- 줄거리
- 후킹코드
- 비고

## 5-3 캐릭터

- 캐릭터명 (원어)
- 캐릭터명 (한글)
- 게임명 (게임 테이블에서 참조)
- 캐릭터 사진
- 공략

## 5-4 유저 게임 진행도

- 캐릭터명 (캐릭터 테이블에서 참조)
- 유저명 (유저 테이블에서 참조)
- 진행도 (미진행, 진행중, 완료)

## 5-5 추천

- 유저명 (유저 테이블에서 참조)
- 게임명 (게임 테이블에서 참조)
- 도서명 (도서 테이블에서 참조)
- 영상명 (영상 테이블에서 참조)
- 분류 (게임, 도서, 영상 중 선택)
- 추천 여부

## 5-6 회사

- 회사명(원어)
- 회사명(한글)

## 5-7 장르

- 장르명

## 5-8 게임-장르

- 게임명 (게임 테이블에서 참조)
- 장르명 (장르 테이블에서 참조)

## 5-9 시리즈

- 시리즈명 (원어)
- 시리즈명 (한글)
